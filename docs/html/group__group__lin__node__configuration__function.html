<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIN Middleware</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIN Middleware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group__lin__node__configuration__function.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Node Configuration<div class="ingroups"><a class="el" href="group__group__lin__functions.html">Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac4bcf8afa378d4cb686c859beabe53ad"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__node__configuration__function.html#gac4bcf8afa378d4cb686c859beabe53ad">mtb_lin_register_read_by_id_callback</a> (<a class="el" href="group__group__lin__data__structures__function__pointers.html#ga427420461c98115af3c305fd270f3d1f">mtb_cb_lin_read_by_id_t</a> callback, <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:gac4bcf8afa378d4cb686c859beabe53ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback function for <a class="el" href="group__group__lin__node__configuration__function.html#ga1e8ace2e0fbbfe41a118532c16e8e0eb">ld_read_by_id_callout()</a>.  <a href="#gac4bcf8afa378d4cb686c859beabe53ad">More...</a><br /></td></tr>
<tr class="separator:gac4bcf8afa378d4cb686c859beabe53ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab15ed68cfe1b95bdade50ccb7c14a6b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__node__configuration__function.html#gab15ed68cfe1b95bdade50ccb7c14a6b6">ld_read_configuration</a> (<a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a> iii, <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *pData, <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const length, const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:gab15ed68cfe1b95bdade50ccb7c14a6b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads the NAD and PID values from the volatile memory.  <a href="#gab15ed68cfe1b95bdade50ccb7c14a6b6">More...</a><br /></td></tr>
<tr class="separator:gab15ed68cfe1b95bdade50ccb7c14a6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdad802367e2fc662c16d1a487cfb7bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__node__configuration__function.html#gabdad802367e2fc662c16d1a487cfb7bb">ld_set_configuration</a> (<a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a> iii, const <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const pData, <a class="el" href="group__group__lin__data__structures__data__types.html#gac435c34832e78a0059190eb9af6bac7d">l_u16</a> length, <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:gabdad802367e2fc662c16d1a487cfb7bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This call does not transport anything to the bus.  <a href="#gabdad802367e2fc662c16d1a487cfb7bb">More...</a><br /></td></tr>
<tr class="separator:gabdad802367e2fc662c16d1a487cfb7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e8ace2e0fbbfe41a118532c16e8e0eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__node__configuration__function.html#ga1e8ace2e0fbbfe41a118532c16e8e0eb">ld_read_by_id_callout</a> (<a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a> iii, <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> id, <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *frame_data, <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *data_length, const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:ga1e8ace2e0fbbfe41a118532c16e8e0eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calls out when Master node transmits a "read" by an identifier request with the identifier in the user-defined area.  <a href="#ga1e8ace2e0fbbfe41a118532c16e8e0eb">More...</a><br /></td></tr>
<tr class="separator:ga1e8ace2e0fbbfe41a118532c16e8e0eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac4bcf8afa378d4cb686c859beabe53ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac4bcf8afa378d4cb686c859beabe53ad">&#9670;&nbsp;</a></span>mtb_lin_register_read_by_id_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE void mtb_lin_register_read_by_id_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__function__pointers.html#ga427420461c98115af3c305fd270f3d1f">mtb_cb_lin_read_by_id_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback function for <a class="el" href="group__group__lin__node__configuration__function.html#ga1e8ace2e0fbbfe41a118532c16e8e0eb">ld_read_by_id_callout()</a>. </p>
<p>To remove the callback function, pass a NULL as the function pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The pointer to a callback function.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab15ed68cfe1b95bdade50ccb7c14a6b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab15ed68cfe1b95bdade50ccb7c14a6b6">&#9670;&nbsp;</a></span>ld_read_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> ld_read_configuration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>&#160;</td>
          <td class="paramname"><em>iii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads the NAD and PID values from the volatile memory. </p>
<p>This function reads the current configuration data, and saves this data into the non-volatile (flash) memory. The application saves the configuration data to the flash when the "Save Configuration" bit is set in the LIN status register (returned by l_ifc_read_status_LINS). The configuration data that is read is a series of bytes. The first byte is the current NAD of slave. The next bytes are the current PID values for the frames that the Slave responds to. The PID values are in the order in which the frames appear in the LDF or NCF file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iii</td><td>The name of the interface handle. The parameter is not used within the middleware as the interface is defined by the context parameter. See <a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>.</td></tr>
    <tr><td class="paramname">pData</td><td>The pointer to data.</td></tr>
    <tr><td class="paramname">length</td><td>The length of the configuration bytes.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__lin__ld__note__configuration__status__macros.html">Node Configuration Status</a> </dd></dl>

</div>
</div>
<a id="gabdad802367e2fc662c16d1a487cfb7bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdad802367e2fc662c16d1a487cfb7bb">&#9670;&nbsp;</a></span>ld_set_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> ld_set_configuration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>&#160;</td>
          <td class="paramname"><em>iii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#gac435c34832e78a0059190eb9af6bac7d">l_u16</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This call does not transport anything to the bus. </p>
<p>The function configures NAD and PIDs accordingly to the configuration given by data. The intended usage is to restore the saved configuration or set initial configuration (e.g. coded by I/O pins).</p>
<p>The function is called after calling l_ifc_init.</p>
<p>The caller must set the size of the data area before calling the function.</p>
<p>The data contains NAD and PIDs each occupying one byte. The data structure is: NAD and all PIDs for the frames. The PIDs order is the same as the frame list in LDF, Section 9.2.2.2, and NCF, Section 8.2.5.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iii</td><td>The name of the interface handle. The parameter is not used within the middleware as the interface is defined by the context parameter. See <a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>.</td></tr>
    <tr><td class="paramname">pData</td><td>The pointer to data.</td></tr>
    <tr><td class="paramname">length</td><td>The length of the configuration bytes.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__lin__ld__note__configuration__status__macros.html">Node Configuration Status</a> </dd></dl>

</div>
</div>
<a id="ga1e8ace2e0fbbfe41a118532c16e8e0eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e8ace2e0fbbfe41a118532c16e8e0eb">&#9670;&nbsp;</a></span>ld_read_by_id_callout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> ld_read_by_id_callout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>&#160;</td>
          <td class="paramname"><em>iii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *&#160;</td>
          <td class="paramname"><em>frame_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *&#160;</td>
          <td class="paramname"><em>data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calls out when Master node transmits a "read" by an identifier request with the identifier in the user-defined area. </p>
<p>Slave node application is called from the driver when such a request is received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iii</td><td>The name of the interface handle. The parameter is not used within the middleware as the interface is defined by the context parameter. See <a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>.</td></tr>
    <tr><td class="paramname">id</td><td>The ID parameter is the identifier in the user&ndash;defined area (32 to 63), from the "read" by an identifier configuration request.</td></tr>
    <tr><td class="paramname">frame_data</td><td>The data pointer points to a data area with 5 bytes. This area is used by the application to set up a positive response.</td></tr>
    <tr><td class="paramname">data_length</td><td>The data pointer, which points to a data length in response. The length is 4 LSB bits in PCI ([bit0 - bit3]). The RSID byte is added by FW, the user must set just the data size.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__lin__ld__note__identification__status__macros.html">Node Identification Status</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>LIN Middleware</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
