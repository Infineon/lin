<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIN Middleware</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIN Middleware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group__lin__transport__layer__raw__function.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Raw Transport Layer<div class="ingroups"><a class="el" href="group__group__lin__functions.html">Functions</a> &raquo; <a class="el" href="group__group__lin__transport__layer__function.html">Transport Layer function</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaeddcdc645d336b5ced1f3d877a4ac76b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__transport__layer__raw__function.html#gaeddcdc645d336b5ced1f3d877a4ac76b">ld_put_raw</a> (<a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a> iii, const <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const ld_data, <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:gaeddcdc645d336b5ced1f3d877a4ac76b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to allow the application code to send data using the Transport Layer.  <a href="#gaeddcdc645d336b5ced1f3d877a4ac76b">More...</a><br /></td></tr>
<tr class="separator:gaeddcdc645d336b5ced1f3d877a4ac76b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad226a85b5901a7846fbb205d1e34ac4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__transport__layer__raw__function.html#gad226a85b5901a7846fbb205d1e34ac4d">ld_get_raw</a> (<a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a> iii, <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const ld_data, <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:gad226a85b5901a7846fbb205d1e34ac4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to allow the application code to receive data using the Transport Layer.  <a href="#gad226a85b5901a7846fbb205d1e34ac4d">More...</a><br /></td></tr>
<tr class="separator:gad226a85b5901a7846fbb205d1e34ac4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6aa4e6e5641a7344124da803a05ce03a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__transport__layer__raw__function.html#ga6aa4e6e5641a7344124da803a05ce03a">ld_raw_tx_status</a> (<a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a> iii, const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:ga6aa4e6e5641a7344124da803a05ce03a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This call returns the status of the last performed frame transmission on the bus when a raw API was used.  <a href="#ga6aa4e6e5641a7344124da803a05ce03a">More...</a><br /></td></tr>
<tr class="separator:ga6aa4e6e5641a7344124da803a05ce03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3685882626ef626eb5f9828b1c254ab1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lin__transport__layer__raw__function.html#ga3685882626ef626eb5f9828b1c254ab1">ld_raw_rx_status</a> (<a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a> iii, const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *context)</td></tr>
<tr class="memdesc:ga3685882626ef626eb5f9828b1c254ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The call returns the status of the raw frame receive function.  <a href="#ga3685882626ef626eb5f9828b1c254ab1">More...</a><br /></td></tr>
<tr class="separator:ga3685882626ef626eb5f9828b1c254ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaeddcdc645d336b5ced1f3d877a4ac76b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeddcdc645d336b5ced1f3d877a4ac76b">&#9670;&nbsp;</a></span>ld_put_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ld_put_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>&#160;</td>
          <td class="paramname"><em>iii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const&#160;</td>
          <td class="paramname"><em>ld_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to allow the application code to send data using the Transport Layer. </p>
<p>It essentially copies 8 bytes of data from a user application array to a frame buffer array. The data is sent in the next suitable frame (Slave response frame).</p>
<p>The data area will be copied in the call, the pointer will not be memorized.</p>
<p>This function is used to send one frame of a complete message at a time. Therefore, a multiframe message requires multiple calls to this function.</p>
<p>Always check <a class="el" href="group__group__lin__transport__layer__raw__function.html#ga6aa4e6e5641a7344124da803a05ce03a">ld_raw_tx_status()</a> to see if there is a place for the frame in the buffer before calling this function. If no more queue resources are available, the data may be jettisoned and the appropriate error status will be set.</p>
<dl class="section note"><dt>Note</dt><dd>In J2602 compliance mode, the J2602 Status is sent in the first byte of each frame when:<ul>
<li>using 0x3C messages with NADs in the User reserved range of 0x80 - 0xFF</li>
<li>using 0x3E messages with any NAD, so only 7 bytes of the data can be sent. There is no need to place NAD as first byte of user data.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iii</td><td>The name of the interface handle. The parameter is not used within the middleware as the interface is defined by the context parameter. See <a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>.</td></tr>
    <tr><td class="paramname">ld_data</td><td>The array of data to be sent.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad226a85b5901a7846fbb205d1e34ac4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad226a85b5901a7846fbb205d1e34ac4d">&#9670;&nbsp;</a></span>ld_get_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ld_get_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>&#160;</td>
          <td class="paramname"><em>iii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> *const&#160;</td>
          <td class="paramname"><em>ld_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to allow the application code to receive data using the Transport Layer. </p>
<p>It essentially copies some data from a frame buffer array to a user application array.</p>
<p>This function is used to receive one frame of a complete Transport Layer message at a time. Therefore, a multiframe Transport Layer message requires multiple calls to this API function.</p>
<p>If the receive queue is empty, no data will be copied. Always check <a class="el" href="group__group__lin__transport__layer__raw__function.html#ga3685882626ef626eb5f9828b1c254ab1">ld_raw_rx_status()</a> to ensure there is data in the queue before calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iii</td><td>The interface handle. See <a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>.</td></tr>
    <tr><td class="paramname">ld_data</td><td>The array to which the oldest received diagnostic frame data is copied.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6aa4e6e5641a7344124da803a05ce03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6aa4e6e5641a7344124da803a05ce03a">&#9670;&nbsp;</a></span>ld_raw_tx_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> ld_raw_tx_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>&#160;</td>
          <td class="paramname"><em>iii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This call returns the status of the last performed frame transmission on the bus when a raw API was used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iii</td><td>The interface handle. See <a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__lin__tl__return__status__macros.html">Transport Layer Status</a> </dd></dl>

</div>
</div>
<a id="ga3685882626ef626eb5f9828b1c254ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3685882626ef626eb5f9828b1c254ab1">&#9670;&nbsp;</a></span>ld_raw_rx_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__lin__data__structures__data__types.html#ga4ec6e5bc7f4a484f2dad5b664711433f">l_u8</a> ld_raw_rx_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>&#160;</td>
          <td class="paramname"><em>iii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The call returns the status of the raw frame receive function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iii</td><td>The name of the interface handle. The parameter is not used within the middleware as the interface is defined by the context parameter. See <a class="el" href="group__group__lin__data__structures__data__types.html#ga53cd46b2cdd66ee3bcbabe4641ff2d3e">l_ifc_handle</a>.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the context structure <a class="el" href="structmtb__stc__lin__context__t.html">mtb_stc_lin_context_t</a> allocated by the user. This structure is used during LIN Slave operation for internal configuration and data retention. The user must not modify anything in this structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__lin__tl__return__status__macros.html">Transport Layer Status</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>LIN Middleware</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
